<!DOCTYPE html>
<html>
<head>
	<title> projected time </title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/theme.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<!-- Libraries CSS Files -->
	<link href="lib/animate/animate.min.css" rel="stylesheet">
	<link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
	<link href="lib/magnific-popup/magnific-popup.css" rel="stylesheet">

	<style>
		@import url('https://fonts.googleapis.com/css?family=Montserrat');
		@import url('https://fonts.googleapis.com/css?family=Open+Sans');
	</style>
</head>

<body>
	<button class="homebtn" onclick="javascript:window.location.href='home.html';"><i class="fa fa-home"></i></button>
	<header id="header">
			<div id="logo" class="pull-left">
				<h1><a href="home.html" class="scrollto">WaitLess</a></h1>
			</div>
	</header><!-- #header -->

	<section id="intro">
		<div class="intro-text">
				<h1 align="center"> Wait Times @ <span id="selectedT"></span></h1>
		</div>
	</section>

	<script>
		document.getElementById("selectedT").innerHTML = localStorage.getItem("selectedT");
	</script>

	<div class="container" id="crwtTable">
		<button align="center" onclick="window.location.href='current.html'" class="current-btn" type="submit" ><i class="fa fa-clock-o"></i>&nbsp;Current</button>
		<div class="dropdown">
			<button align="center" onclick="myFunction()" class="dropbtn" ><i class="fa fa-chevron-circle-down"></i>&nbsp;Time......</button>
			<script id="dropdown-template" type="text/x-handlebars-template">
				<a onclick="javascript:localStorage.setItem('selectedT',
				dropdownTable[{{index}}].time); window.location.href='p4.html'">{{time}}
				</a>
			</script>

			<div id="myDropdown" class="dropdown-content">
				<!---------->
			</div>
		</div>

			<script>
			/* When the user clicks on the button,
			toggle between hiding and showing the dropdown content */
			function myFunction() {
				document.getElementById("myDropdown").classList.toggle("show");
			}

			// Close the dropdown if the user clicks outside of it
			window.onclick = function(event) {
				if (!event.target.matches('.dropbtn')) {

					var dropdowns = document.getElementsByClassName("dropdown-content");
					var i;
					for (i = 0; i < dropdowns.length; i++) {
						var openDropdown = dropdowns[i];
						if (openDropdown.classList.contains('show')) {
							openDropdown.classList.remove('show');
						}
					}
				}
			}

			window.onload = function(event) {
				for(var i = 1; i <= complexData.length; i++){
					if(localStorage.getItem(i)==null){localStorage.setItem(i,'#1ec8cd')}
					document.getElementById(i).style.color = localStorage.getItem(i);}
			}

			</script>

			<!---------------------------------------------------------------------->

			<div style="text-align: left;" class="current">
				<!-- remember to put Handlebars templates within script tags so that the
				webpage doesn't attempt to load them as HTML -->
				<script id="entry-template" type="text/x-handlebars-template">
					<tr>
						<td>
							<span onclick="javascript:localStorage.setItem('rstrName', '{{title}}');
							window.location.href='p3.html';">
								<span id="time">{{ranking}}.&nbsp&nbsp{{title}}</span>
								<span id="wt">{{waitTime}}&nbspmin(s)</span>
							</span>

							<span onload="javascript:this.style.color=localStorage.getItem({{index}});"
							onclick="if(!localStorage.getItem('{{title}}'))
							{
								localStorage.setItem('{{title}}',
								JSON.stringify(complexData[{{ranking}}-1]));
								localStorage.setItem({{index}},
								'#ff6868');
								this.style.color='#ff6868';
							}
							else{
								localStorage.removeItem('{{title}}');
								localStorage.removeItem({{index}});
								this.style.color='#1dc8cd';
							}"
							id="{{index}}" class="fa buttonfav">&#xf004;</span>
						</td>
					</tr>

				</script>

				<div class="list">
					<table id="templatedProjects" >
					<!-- we will inject templated project HTML code into here -->
					</table>
				</div>

			</div>
		</div>


		<script src="https://code.jquery.com/jquery.js"></script>
		<script src="js/handlebars-v4.0.12.js"></script>
		<script src="js/lab4.js"></script>
		<script src="js/TimeDropdown.js"></script>

		<!-- JavaScript Libraries -->
		<script src="lib/jquery/jquery.min.js"></script>
		<script src="lib/jquery/jquery-migrate.min.js"></script>
		<script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
		<script src="lib/easing/easing.min.js"></script>
		<script src="lib/wow/wow.min.js"></script>
		<script src="lib/superfish/hoverIntent.js"></script>
		<script src="lib/superfish/superfish.min.js"></script>
		<script src="lib/magnific-popup/magnific-popup.min.js"></script>
		<script src="js/main.js"></script>
	</body>
	</html>
